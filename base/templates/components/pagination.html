{% if is_paginated %}
<div class="flex justify-center mt-6">
    <nav class="inline-flex shadow-sm" aria-label="Pagination">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50">
                Previous 
            </a>
        {% else %}
            <span class="px-4 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-300 rounded-l-md cursor-not-allowed">
                Previous
            </span>
        {% endif %} 
        {% for num in page_obj.paginator.page_range %} 
        {% if page_obj.number == num %}
            <span class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-gray-300">
                {{ num }}
            </span>
        {% elif num > page_obj.number|add:'-5' and num < page_obj.number|add:'5' %}
            <a href="?page={{ num }}" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50">
                {{ num }}
            </a>
        {% endif %} {% endfor %} {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50">
                Next
            </a>
        {% else %}
            <span class="px-4 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-300 rounded-r-md cursor-not-allowed">
                Next
            </span>
        {% endif %}
    </nav>
</div>
{% endif %}
